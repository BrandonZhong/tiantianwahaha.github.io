<!DOCTYPE html>



  


<html class="theme-next gemini use-motion" lang="en">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">












<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">




<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<script>
  (adsbygoogle = window.adsbygoogle || []).push({
    google_ad_client: "ca-pub-7825709594741442",
    enable_page_level_ads: true
  });
</script>



















<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=6.0.6" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=6.0.6">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=6.0.6">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=6.0.6">


  <link rel="mask-icon" href="/images/logo.svg?v=6.0.6" color="#222">









<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '6.0.6',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  





  <meta name="description" content="Nvidia 2018.12 提出的新的高清人脸生成模型，在PGGAN的基础上进行的改进。 文章链接 主要思想这项工作提出了关于GAN框架的另一个观点，具体来说他从风格转换网络中得到灵感，改进得到新的生成器架构，在生成的图像中可以学习高级属性（如年龄、在人脸或背景上训练时的身份、相机视角）和随机变化（雀斑、头发细节）。它不仅学习自动分离这些属性，而且还允许我们以非常直观的方式控制合成。 简介 左边">
<meta name="keywords" content="GAN">
<meta property="og:type" content="article">
<meta property="og:title" content="StyleGAN: A Style-Based Generator Architecture for Generative Adversarial Networks">
<meta property="og:url" content="https://tiantianwahaha.github.io/2019/03/19/StyleGAN-A-Style-Based-Generator-Architecture-for-Generative-Adversarial-Networks.html/index.html">
<meta property="og:site_name" content="tiantianwahaha">
<meta property="og:description" content="Nvidia 2018.12 提出的新的高清人脸生成模型，在PGGAN的基础上进行的改进。 文章链接 主要思想这项工作提出了关于GAN框架的另一个观点，具体来说他从风格转换网络中得到灵感，改进得到新的生成器架构，在生成的图像中可以学习高级属性（如年龄、在人脸或背景上训练时的身份、相机视角）和随机变化（雀斑、头发细节）。它不仅学习自动分离这些属性，而且还允许我们以非常直观的方式控制合成。 简介 左边">
<meta property="og:locale" content="en">
<meta property="og:image" content="https://tiantianwahaha.github.io/2019/03/19/StyleGAN-A-Style-Based-Generator-Architecture-for-Generative-Adversarial-Networks.html/model.png">
<meta property="og:image" content="https://tiantianwahaha.github.io/2019/03/19/StyleGAN-A-Style-Based-Generator-Architecture-for-Generative-Adversarial-Networks.html/AdaIN.png">
<meta property="og:image" content="https://tiantianwahaha.github.io/2019/03/19/StyleGAN-A-Style-Based-Generator-Architecture-for-Generative-Adversarial-Networks.html/mix.png">
<meta property="og:image" content="https://tiantianwahaha.github.io/2019/03/19/StyleGAN-A-Style-Based-Generator-Architecture-for-Generative-Adversarial-Networks.html/Truncation.png">
<meta property="og:image" content="https://tiantianwahaha.github.io/2019/03/19/StyleGAN-A-Style-Based-Generator-Architecture-for-Generative-Adversarial-Networks.html/result.png">
<meta property="og:updated_time" content="2019-03-20T08:34:11.824Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="StyleGAN: A Style-Based Generator Architecture for Generative Adversarial Networks">
<meta name="twitter:description" content="Nvidia 2018.12 提出的新的高清人脸生成模型，在PGGAN的基础上进行的改进。 文章链接 主要思想这项工作提出了关于GAN框架的另一个观点，具体来说他从风格转换网络中得到灵感，改进得到新的生成器架构，在生成的图像中可以学习高级属性（如年龄、在人脸或背景上训练时的身份、相机视角）和随机变化（雀斑、头发细节）。它不仅学习自动分离这些属性，而且还允许我们以非常直观的方式控制合成。 简介 左边">
<meta name="twitter:image" content="https://tiantianwahaha.github.io/2019/03/19/StyleGAN-A-Style-Based-Generator-Architecture-for-Generative-Adversarial-Networks.html/model.png">






  <link rel="canonical" href="https://tiantianwahaha.github.io/2019/03/19/StyleGAN-A-Style-Based-Generator-Architecture-for-Generative-Adversarial-Networks.html/">



<script type="text/javascript" id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>StyleGAN: A Style-Based Generator Architecture for Generative Adversarial Networks | tiantianwahaha</title>
  









  <noscript>
  <style type="text/css">
    .use-motion .motion-element,
    .use-motion .brand,
    .use-motion .menu-item,
    .sidebar-inner,
    .use-motion .post-block,
    .use-motion .pagination,
    .use-motion .comments,
    .use-motion .post-header,
    .use-motion .post-body,
    .use-motion .collection-title { opacity: initial; }

    .use-motion .logo,
    .use-motion .site-title,
    .use-motion .site-subtitle {
      opacity: initial;
      top: initial;
    }

    .use-motion {
      .logo-line-before i { left: initial; }
      .logo-line-after i { right: initial; }
    }
  </style>
</noscript>

</head>

<body itemscope="" itemtype="http://schema.org/WebPage" lang="en">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope="" itemtype="http://schema.org/WPHeader">
      <div class="header-inner"> 

<div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">tiantianwahaha</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <h1 class="site-subtitle" itemprop="description"></h1>
      
  </div>
  
  <script>
    (function(){
        if(''){
            if (prompt('Please enter password') !== ''){
                alert('password incorrect!');
                history.back();
            }
        }
    })();
  </script>

  <div class="site-nav-toggle">
    <button aria-label="Toggle navigation bar">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        
          
  <li class="menu-item menu-item-home">
    <a href="/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-home"></i> <br>Home</a>
</li>

      
        
        
          
  <li class="menu-item menu-item-archives">
    <a href="/archives/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>Archives</a>
</li>

      
        
        
          
  <li class="menu-item menu-item-tags">
    <a href="/tags/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>Tags</a>
</li>

      
        
        
          
  <li class="menu-item menu-item-categories">
    <a href="/categories/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-th"></i> <br>Categories</a>
</li>

      
        
        
          
  <li class="menu-item menu-item-about">
    <a href="/about/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-user"></i> <br>About</a>
</li>

      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br>Search</a>
        </li>
      
    </ul>
  

  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off" placeholder="Searching..." spellcheck="false" type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>


  



 </div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
            

          
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://tiantianwahaha.github.io/2019/03/19/StyleGAN-A-Style-Based-Generator-Architecture-for-Generative-Adversarial-Networks.html/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="tiantianwahaha">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="tiantianwahaha">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">StyleGAN: A Style-Based Generator Architecture for Generative Adversarial Networks</h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-03-19T16:27:53+08:00">2019-03-19</time>
            

            
            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing"><a href="/categories/百篇论文阅读计划/" itemprop="url" rel="index"><span itemprop="name">百篇论文阅读计划</span></a></span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2019/03/19/StyleGAN-A-Style-Based-Generator-Architecture-for-Generative-Adversarial-Networks.html/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count valine-comment-count" data-xid="/2019/03/19/StyleGAN-A-Style-Based-Generator-Architecture-for-Generative-Adversarial-Networks.html/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          
            <span class="post-meta-divider">|</span>
            <span class="post-meta-item-icon">
            <i class="fa fa-eye"></i>
             Views: 
            <span class="busuanzi-value" id="busuanzi_value_page_pv"></span>
            </span>
          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>Nvidia 2018.12 提出的新的高清人脸生成模型，在PGGAN的基础上进行的改进。</p>
<p><a href="https://arxiv.org/abs/1812.04948" target="_blank" rel="noopener">文章链接</a></p>
<h2 id="主要思想"><a href="#主要思想" class="headerlink" title="主要思想"></a>主要思想</h2><p>这项工作提出了关于GAN框架的另一个观点，具体来说他从风格转换网络中得到灵感，改进得到新的生成器架构，在生成的图像中可以学习高级属性（如年龄、在人脸或背景上训练时的身份、相机视角）和随机变化（雀斑、头发细节）。它不仅学习自动分离这些属性，而且还允许我们以非常直观的方式控制合成。</p>
<h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><p><img src="/2019/03/19/StyleGAN-A-Style-Based-Generator-Architecture-for-Generative-Adversarial-Networks.html/model.png" alt="model"></p>
<p>左边是传统的网络架构，由噪声Z生成图片。右边是提出的新的生成架构，主要是提出了A和B两个模块。</p>
<p>在PGGAN(Progressive Growing of GANs)的基础上做的改进，生成模型从$4^2$到$1024^2$逐步生成高清图片，每个分辨率对应两个conv，也就是总共18层网络，最后接了一层conv1×1将特征转换为RGB图片。正常的生成模型，是输入噪声<strong>Z</strong>，经过卷积网络生成图片。</p>
<p>而stylegan设计了一个<strong>Mapping Network</strong>，包括8层全连接层(后面只接了激活函数lrelu，没有正则化)，输入噪声Z，输出为中间隐变量ⱳ，Z和ⱳ以及每层全连接，大小都是512×1。然后ⱳ经过A模块(其实就是单独的一层全连接)，通过AdaIN操作为图片贡献风格控制。加入A，控制了图片的style，姿势，性别，年级等等大的特征。</p>
<p>在AdaIN模块之前，每个通道都会添加一个缩放的噪声<strong>B</strong>。加入B，控制雀斑，皱纹等细微特征，使图片更加真实，输出更加多样性。</p>
<p>实验不再从隐变量生成不同的4*4基础图片，而是全都使用 constant values固定值的4×4.</p>
<h2 id="主要贡献"><a href="#主要贡献" class="headerlink" title="主要贡献"></a>主要贡献</h2><h4 id="1-Mapping-Network映射模块"><a href="#1-Mapping-Network映射模块" class="headerlink" title="1.Mapping Network映射模块"></a>1.Mapping Network映射模块</h4><p>生成模型有18层，所以Z输入Mapping Network，也输出对应的18个ⱳ</p>
<h4 id="2-Style-Modules-AdaIN-自适应实例归一化"><a href="#2-Style-Modules-AdaIN-自适应实例归一化" class="headerlink" title="2.Style Modules (AdaIN)自适应实例归一化"></a>2.Style Modules (AdaIN)自适应实例归一化</h4><p>这个是另一篇文章提出的，<a href="https://tiantianwahaha.github.io/2019/03/19/Arbitrary-Style-Transfer-in-Real-time-with-Adaptive-Instance-Normalization.html/">我的另一篇博客介绍了</a>。就是把内容图片的每个信道的分布，经过平移和变换到风格图片对应的信道分布上。</p>
<p><img src="/2019/03/19/StyleGAN-A-Style-Based-Generator-Architecture-for-Generative-Adversarial-Networks.html/AdaIN.png" alt="model"></p>
<h4 id="3-Removing-traditional-input"><a href="#3-Removing-traditional-input" class="headerlink" title="3.Removing traditional input"></a>3.Removing traditional input</h4><p>就是把生成器的输入变成固定的4*4</p>
<p>The StyleGAN team found that the image features are controlled by ⱳ and the AdaIN, and therefore the initial input can be omitted and replaced by constant values. </p>
<p>文章并没有解释为什么，可能是减少了特征纠缠，网络更容易通过 ⱳ来学习，而不依赖于纠缠的输入向量</p>
<h4 id="4-Stochastic-variation-噪声B引入了随机变化"><a href="#4-Stochastic-variation-噪声B引入了随机变化" class="headerlink" title="4.Stochastic variation 噪声B引入了随机变化"></a>4.Stochastic variation 噪声B引入了随机变化</h4><p>The common method to insert these small features into GAN images is adding random noise to the input vector. However, in many cases it’s tricky to control the noise effect due to the features entanglement phenomenon that was described above, which leads to other features of the image being affected.</p>
<p>使图像多样性最直接的方法是加入小的随机噪声，但是这会带来features entanglement phenomenon特征纠缠现象，就是加了噪声，会导致其他的图像特征也收影响，本文的加入B的方法，解决了这个问题，同时提出了两个指标来度量features entanglement现象</p>
<h4 id="5-Style-mixing-风格混合"><a href="#5-Style-mixing-风格混合" class="headerlink" title="5.Style mixing 风格混合"></a>5.Style mixing 风格混合</h4><p><img src="/2019/03/19/StyleGAN-A-Style-Based-Generator-Architecture-for-Generative-Adversarial-Networks.html/mix.png" alt="1553070519872"></p>
<p>下图展示了这款新型生成器的风格效果。它将隐编码生成的风格（source）叠加在另一种隐编码的风格子集（destination）上。</p>
<p>对空间分辨率较低（4^2 – 8^2）的层的风格进行叠加的效果见「Coarse styles copied」部分：生成图像从 source 中复制了姿势、大致发型、脸形和眼镜等高级属性，但保留了 destination 图像的所有颜色（眼睛、头发、光线）和细节脸部特征。</p>
<p>对空间分辨率为 16^2 – 32^2 的层的风格进行叠加的效果见「Middle styles copied」部分：复制了 source 图像的细微面部特征、发型、眼睛睁开的状态，同时保留了 destination 图像的姿势、脸形和眼镜。</p>
<p>对高分辨率 (64^2 – 1024^2) 的层的风格进行叠加的效果见「Fine styles」：主要保留了 source 图像的颜色和微小特征。</p>
<h4 id="6-Truncation-trick-in-W"><a href="#6-Truncation-trick-in-W" class="headerlink" title="6.Truncation trick in W"></a>6.Truncation trick in W</h4><p><img src="/2019/03/19/StyleGAN-A-Style-Based-Generator-Architecture-for-Generative-Adversarial-Networks.html/Truncation.png" alt="1553070566605"></p>
<p>One of the challenges in generative models is dealing with areas that are poorly represented in the training data. The generator isn’t able to learn them and create images that resemble them (and instead creates bad-looking images). To avoid generating poor images, StyleGAN truncates the intermediate vector ⱳ, forcing it to stay close to the “average” intermediate vector.</p>
<p>After training the model, an “average” ⱳavg is produced by selecting many random inputs; generating their intermediate vectors with the mapping network; and calculating the mean of these vectors. When generating new images, instead of using Mapping Network output directly, ⱳ is transformed into ⱳ_new=ⱳ_avg+𝞧(ⱳ -ⱳ_avg), where the value of 𝞧 defines how far the image can be from the “average” image (and how diverse the output can be). Interestingly, by using a different 𝞧 for each level, before the affine transformation block, the model can control how far from average each set of features is, as shown in the video below.</p>
<h4 id="7-Fine-tuning"><a href="#7-Fine-tuning" class="headerlink" title="7.Fine-tuning"></a>7.Fine-tuning</h4><p>改进了PGGAN的几个超参数，比如训练时间和损失函数。<strong>and replacing the up/downscaling from nearest neighbors to bilinear sampling</strong>，对模型效果的提升挺重要。</p>
<h4 id="8-Results"><a href="#8-Results" class="headerlink" title="8.Results"></a>8.Results</h4><p><img src="/2019/03/19/StyleGAN-A-Style-Based-Generator-Architecture-for-Generative-Adversarial-Networks.html/result.png" alt="result"></p>
<p>展示了在两个数据集上的Frèchet inception distance (<a href="https://arxiv.org/abs/1706.08500" target="_blank" rel="noopener">FID</a>) score</p>
<h4 id="9-FlickrFaces-HQ（FFHQ）"><a href="#9-FlickrFaces-HQ（FFHQ）" class="headerlink" title="9.FlickrFaces-HQ（FFHQ）"></a>9.FlickrFaces-HQ（FFHQ）</h4><p>创建了一个新的高清人脸数据集，该数据集包含 70000 张分辨率为 1024^2 的高质量图像，其中的图像在年龄、种族、图像背景等方面比 CelebA-HQ具备更宽泛的变化，且涵盖更多配饰，如眼镜、太阳镜、帽子等</p>
<h2 id="大致算法流程！！！"><a href="#大致算法流程！！！" class="headerlink" title="大致算法流程！！！"></a>大致算法流程！！！</h2><ol>
<li>同PGGAN(Progressive Growing of GANs)从$4^2$到$1024^2$，每个分辨率对应两个conv，也就是总共18层网络。正常的生成模型，是输入噪声<strong>Z</strong>，经过卷积网络生成图片。</li>
<li>stylegan设计了一个<strong>Mapping Network</strong>，包括8层全连接层(后面只接了激活函数lrelu，没有正则化)，输出为中间隐变量ⱳ，Z和ⱳ以及每层全连接，大小都是512×1</li>
<li>假设在resolution分辨率为8的时候，也就是x.shape=[bs,channel,8,8]</li>
<li>先为x加入噪声，噪声noise就是一个[1,1,8,8]的随机高斯，会现乘以一个权重W[1,1,1,1]，然后直接与x相加 x+noise，也就是X的每个信道都加了相同的噪声</li>
<li>然后应用偏差<strong>apply_bias</strong>，就是在x的每一个信道加上不同的偏差</li>
<li>x上应用<strong>激活函数</strong>lrelu</li>
<li>x的每个信道进行<strong>instance_norm</strong>，确保AdaIN模块的缩放和平移(scaling and shifting)达到预期的效果</li>
<li>接下来就是<strong>AdaIN</strong>操作。经过Mapping Network学习到18个ⱳ，找到对应8分辨率的这个ⱳ，再经过<strong>A</strong>仿射。其实就是又经过一个单独的全连接层，输入是512，输出是2*channel，分别表示$y_s$和$y_b$,就是用于AdaIN的scale和biase。 X = X×($y_s$+1) + $y_b$,总共bathsize个，每个图片的不同。</li>
</ol>
<h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><p><a href="https://github.com/NVlabs/stylegan" target="_blank" rel="noopener">作者公布的tensorflow源码</a></p>
<p><a href="https://www.youtube.com/watch?v=kSLJriaOumA&amp;feature=youtu.be" target="_blank" rel="noopener">作者公布的视频，很值得看,介绍了模型的三个贡献</a></p>
<p><a href="https://towardsdatascience.com/explained-a-style-based-generator-architecture-for-gans-generating-and-tuning-realistic-6cb2be0f431" target="_blank" rel="noopener">参考的博客1，非常详细的介绍和模型图片，本文主要参考翻译了这个博客的部分讲解.Explained: A Style-Based Generator Architecture for GANs - Generating and Tuning Realistic Artificial Faces</a></p>
<p><a href="https://dtransposed.github.io/blog/Best-of-GANs-2018-(Part-1-out-of-2" target="_blank" rel="noopener">参考的博客2</a>.html)</p>
<p><a href="https://blog.csdn.net/weixin_33670786/article/details/85152082" target="_blank" rel="noopener">参考的中文博客3，简单介绍了论文中插图讲的什么</a></p>

      
    </div>

    

    
    
    

    

    

    
      <div>
        <ul class="post-copyright">
  <li class="post-copyright-author">
    <strong>Post author: </strong>tiantianwahaha</li>
  <li class="post-copyright-link">
    <strong>Post link:</strong>
    <a href="https://tiantianwahaha.github.io/2019/03/19/StyleGAN-A-Style-Based-Generator-Architecture-for-Generative-Adversarial-Networks.html/" title="StyleGAN: A Style-Based Generator Architecture for Generative Adversarial Networks">https://tiantianwahaha.github.io/2019/03/19/StyleGAN-A-Style-Based-Generator-Architecture-for-Generative-Adversarial-Networks.html/</a>
  </li>
  <li class="post-copyright-license">
    <strong>Copyright Notice: </strong>All articles in this blog are licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="external nofollow" target="_blank">CC BY-NC-SA 4.0</a> unless stating additionally.</li>
</ul>

      </div>
    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/GAN/" rel="tag"># GAN</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2019/03/19/Arbitrary-Style-Transfer-in-Real-time-with-Adaptive-Instance-Normalization.html/" rel="next" title="Arbitrary Style Transfer in Real-time with Adaptive Instance Normalization">
                <i class="fa fa-chevron-left"></i> Arbitrary Style Transfer in Real-time with Adaptive Instance Normalization
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>


    <div class="post-spread">
      
    </div>
  </div>
  


          </div>
          
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- footer -->
<ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-7825709594741442" data-ad-slot="5550538918" data-ad-format="auto" data-full-width-responsive="true"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
  
    <div class="comments" id="comments">
    </div>
  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            Table of Contents
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            Overview
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="/images/avatar.gif" alt="tiantianwahaha">
            
              <p class="site-author-name" itemprop="name">tiantianwahaha</p>
              <p class="site-description motion-element" itemprop="description">tiantianwahaha's blogs</p>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">25</span>
                    <span class="site-state-item-name">posts</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-categories">
                  <a href="/categories/index.html">
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">4</span>
                    <span class="site-state-item-name">categories</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-tags">
                  <a href="/tags/index.html">
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">6</span>
                    <span class="site-state-item-name">tags</span>
                  </a>
                </div>
              
            </nav>
          

          

          
            <div class="links-of-author motion-element">
              
                <span class="links-of-author-item">
                  <a href="https://github.com/tiantianwahaha" target="_blank" title="GitHub" rel="external nofollow"><i class="fa fa-fw fa-github"></i>GitHub</a>
                  
                </span>
              
                <span class="links-of-author-item">
                  <a href="mailto:whiup888@gmail.com" target="_blank" title="E-Mail" rel="external nofollow"><i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                  
                </span>
              
            </div>
          

          
          

          
          

          
            
          
          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#主要思想"><span class="nav-text">主要思想</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#简介"><span class="nav-text">简介</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#主要贡献"><span class="nav-text">主要贡献</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-Mapping-Network映射模块"><span class="nav-text">1.Mapping Network映射模块</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-Style-Modules-AdaIN-自适应实例归一化"><span class="nav-text">2.Style Modules (AdaIN)自适应实例归一化</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-Removing-traditional-input"><span class="nav-text">3.Removing traditional input</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-Stochastic-variation-噪声B引入了随机变化"><span class="nav-text">4.Stochastic variation 噪声B引入了随机变化</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#5-Style-mixing-风格混合"><span class="nav-text">5.Style mixing 风格混合</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#6-Truncation-trick-in-W"><span class="nav-text">6.Truncation trick in W</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#7-Fine-tuning"><span class="nav-text">7.Fine-tuning</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#8-Results"><span class="nav-text">8.Results</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#9-FlickrFaces-HQ（FFHQ）"><span class="nav-text">9.FlickrFaces-HQ（FFHQ）</span></a></li></ol></li></ol><li class="nav-item nav-level-2"><a class="nav-link" href="#大致算法流程！！！"><span class="nav-text">大致算法流程！！！</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#参考"><span class="nav-text">参考</span></a></li></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
    
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">tiantianwahaha</span>

  

  
</div>


  










        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  
    <span class="site-uv" title="Total Visitors">
      <i class="fa fa-user"></i>
      <span class="busuanzi-value" id="busuanzi_value_site_uv"></span>
    </span>
  

  
    <span class="site-pv" title="Total Views">
      <i class="fa fa-eye"></i>
      <span class="busuanzi-value" id="busuanzi_value_site_pv"></span>
    </span>
  
</div>









        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>


























  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=6.0.6"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=6.0.6"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=6.0.6"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=6.0.6"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=6.0.6"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=6.0.6"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=6.0.6"></script>


  



	





  





  








  <script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
  
  
  <script src="//unpkg.com/valine/dist/Valine.min.js"></script>
  
  <script type="text/javascript">
    var GUEST = ['nick','mail','link'];
    var guest = 'nick,mail,link';
    guest = guest.split(',').filter(function (item) {
      return GUEST.indexOf(item)>-1;
    });
    new Valine({
        el: '#comments' ,
        verify: false,
        notify: true,
        appId: 'ghsTdcg2fkGJS6ezqnysCLhl-gzGzoHsz',
        appKey: 'TFWzwUO0GPWYSIzO5rlINGID',
        placeholder: 'If you leave your email address, system will send you an email when someone reply to your comment.',
        avatar:'mm',
        guest_info:guest,
        pageSize:'10' || 10,
    });
  </script>



  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  
<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>


  
  

  
  

  
    
      <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
    });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
      var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>
<script type="text/javascript" src="//cdn.jsdelivr.net/npm/mathjax@2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

    
  


  
  

  

  

  

  

</body>
</html>
